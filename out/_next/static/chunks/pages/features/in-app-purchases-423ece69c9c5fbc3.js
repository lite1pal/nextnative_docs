(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1069:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/features/in-app-purchases",function(){return n(7833)}])},7833:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return p}});var t=n(5893),r=n(2673),o=n(5865),i=n(8426);n(9128);var a=n(2643),l=n(9013),c=n(5675),d=n.n(c);let p=[{depth:2,value:"What's RevenueCat?",id:"whats-revenuecat"},{depth:2,value:"Setting up RevenueCat",id:"setting-up-revenuecat"},{depth:3,value:"1. Create a RevenueCat account",id:"1-create-a-revenuecat-account"},{depth:3,value:"2. Import configured products",id:"2-import-configured-products"},{depth:3,value:"3. Add api keys and product ids to .env.local",id:"3-add-api-keys-and-product-ids-to-envlocal"},{depth:2,value:"Using useRevenueCat in your app",id:"using-userevenuecat-in-your-app"},{depth:2,value:"Testing on real devices before production",id:"testing-on-real-devices-before-production"},{depth:3,value:"iOS",id:"ios"},{depth:3,value:"Android",id:"android"},{depth:2,value:"Testing Tips",id:"testing-tips"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",p:"p",h2:"h2",h3:"h3",a:"a",blockquote:"blockquote",strong:"strong",pre:"pre",code:"code",span:"span",ul:"ul",li:"li"},(0,a.a)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{children:"Set Up In-App Purchases & Subscriptions with RevenueCat + Capacitor"}),"\n",(0,t.jsx)(s.p,{children:"Let's set up in-app purchases & subscriptions in your NextNative app using RevenueCat."}),"\n",(0,t.jsx)(s.h2,{id:"whats-revenuecat",children:"What's RevenueCat?"}),"\n",(0,t.jsx)(s.p,{children:"RevenueCat handles all the complex stuff with in-app purchases so you don't have to. It works across iOS and Android, and gives you a simple API to work with."}),"\n",(0,t.jsx)(s.h2,{id:"setting-up-revenuecat",children:"Setting up RevenueCat"}),"\n",(0,t.jsx)(s.h3,{id:"1-create-a-revenuecat-account",children:"1. Create a RevenueCat account"}),"\n",(0,t.jsxs)(s.p,{children:["Head over to ",(0,t.jsx)(s.a,{href:"https://www.revenuecat.com/",children:"RevenueCat"})," and create an account"]}),"\n",(0,t.jsxs)(l.UW,{children:[(0,t.jsxs)(s.p,{children:["Before you can start using RevenueCat to fetch products, you must configure your products in the respective stores. See the following guides for ",(0,t.jsx)(s.a,{href:"https://www.revenuecat.com/docs/getting-started/entitlements/ios-products",children:"App Store Connect"}),", ",(0,t.jsx)(s.a,{href:"https://www.revenuecat.com/docs/getting-started/entitlements/android-products",children:"Google Play Console"})," for help navigating through this process."]}),(0,t.jsx)(s.p,{children:"If you are selling iOS products, be sure to sign your 'Paid Applications Agreement' and fill out your bank and tax information in App Store Connect > Agreements, Tax, and Banking. This needs to be completed before you can test any purchases."})]}),"\n",(0,t.jsx)(s.blockquote,{children:"\n"}),"\n",(0,t.jsx)(s.h3,{id:"2-import-configured-products",children:"2. Import configured products"}),"\n",(0,t.jsx)(s.p,{children:"Once your in-app products have been configured in App Store Connect/Google, go to RevenueCat's dashboard, and create new products."}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(d(),{src:"/docs/purchases/create-product.png",alt:"Create a product",width:900,height:900,style:{borderRadius:"16px"}}),"\n",(0,t.jsx)(l.UW,{children:(0,t.jsx)(s.p,{children:"Products are the individual in-app purchases you set up on the store platforms\n(e.g., Apple, Google)."})}),"\n",(0,t.jsx)(s.p,{children:"Choose the app that you set up in the Apple/Google."}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(d(),{src:"/docs/purchases/choose-app.png",alt:"Choose an app",width:900,height:900,style:{borderRadius:"16px"}}),"\n",(0,t.jsxs)(s.p,{children:["Click ",(0,t.jsx)(s.strong,{children:"Import"})," to add all products automatically."]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(d(),{src:"/docs/purchases/import-products.png",alt:"Choose an app",width:900,height:900,style:{borderRadius:"16px"}}),"\n",(0,t.jsxs)(s.h3,{id:"3-add-api-keys-and-product-ids-to-envlocal",children:["3. Add api keys and product ids to ",(0,t.jsx)(s.strong,{children:".env.local"})]}),"\n",(0,t.jsxs)(s.p,{children:["Then go to each product, copy its ",(0,t.jsx)(s.strong,{children:"Identifier"}),", and paste into ",(0,t.jsx)(s.strong,{children:".env"})," file"]}),"\n",(0,t.jsx)(s.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_REVENUECAT_API_KEY=your_revenuecat_key_here"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_REVENUECAT_MONTHLY_ID=your_monthly_product_id"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_REVENUECAT_ANNUALY_ID=your_annualy_product_id"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_REVENUECAT_LIFETIME_ID=your_lifetime_product_id"})})]})}),"\n",(0,t.jsx)(s.h2,{id:"using-userevenuecat-in-your-app",children:"Using useRevenueCat in your app"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"useRevenueCat"})," hook is located at ",(0,t.jsx)(s.strong,{children:"services/revenue-cat.ts"}),". It has all essentials functions to get payments from your users."]}),"\n",(0,t.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",children:(0,t.jsxs)(s.code,{"data-language":"tsx","data-theme":"default",children:[(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"PremiumFeature"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({ user }) {"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"isPro"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"isInitialized"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"isLoading"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"customerInfo"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"error"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"purchase"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"restore"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  } "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"useRevenueCat"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"user"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".id);"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"isPro) {"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      <"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        <"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"h2"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">Unlock Premium Features</"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"h2"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        <"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"button"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"onClick"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"{() "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"purchase"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"monthly"'}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")}>"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"          Go Premium - $4.99/month"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        </"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"button"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      </"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    );"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,t.jsx)(s.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" <"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">Welcome to premium features!</"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">;"})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsx)(s.h2,{id:"testing-on-real-devices-before-production",children:"Testing on real devices before production"}),"\n",(0,t.jsx)(s.h3,{id:"ios",children:"iOS"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://www.revenuecat.com/docs/test-and-launch/sandbox/apple-app-store",children:"Follow this iOS guide"})}),"\n",(0,t.jsx)(s.h3,{id:"android",children:"Android"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://www.revenuecat.com/docs/test-and-launch/sandbox/google-play-store",children:"Follow this Android guide"})}),"\n",(0,t.jsx)(s.h2,{id:"testing-tips",children:"Testing Tips"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Use Apple/Google sandbox accounts for testing"}),"\n",(0,t.jsx)(s.li,{children:"Check the RevenueCat dashboard to see purchases"}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Test on real devices"})," (the simulator is tricky with purchases)"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"That's it! RevenueCat makes in-app purchases & subscriptions way easier than doing it all yourself."}),"\n",(0,t.jsxs)(s.p,{children:["Check out their ",(0,t.jsx)(s.a,{href:"https://docs.revenuecat.com/docs",children:"docs"})," for more details."]})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.a)(),e.components);return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/features/in-app-purchases.mdx",route:"/features/in-app-purchases",timestamp:1759601062e3,pageMap:[{kind:"Meta",data:{index:"\uD83D\uDE80 Get started ↗",tutorials:"\uD83D\uDCDA Tutorials",features:"✨ Features","preparing-for-deployment":"\uD83D\uDE80 Prep for deployment!",components:"\uD83E\uDDE9 Components"}},{kind:"Folder",name:"components",route:"/components",children:[{kind:"Meta",data:{"screen-container":"Screen Container",modal:"Modal"}},{kind:"MdxPage",name:"modal",route:"/components/modal"},{kind:"MdxPage",name:"screen-container",route:"/components/screen-container"}]},{kind:"Folder",name:"features",route:"/features",children:[{kind:"Meta",data:{database:"\uD83D\uDDC2️ Database","nextjs-api":"\uD83D\uDD17 API",authorization:"\uD83D\uDD12 Authorization","in-app-purchases":"\uD83D\uDCB0 In-App Purchases","push-notifications":"\uD83D\uDD14 Push Notifications"}},{kind:"MdxPage",name:"authorization",route:"/features/authorization"},{kind:"MdxPage",name:"database",route:"/features/database"},{kind:"MdxPage",name:"in-app-purchases",route:"/features/in-app-purchases"},{kind:"MdxPage",name:"nextjs-api",route:"/features/nextjs-api"},{kind:"MdxPage",name:"push-notifications",route:"/features/push-notifications"}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"preparing-for-deployment",route:"/preparing-for-deployment",children:[{kind:"Meta",data:{"rename-your-app":"\uD83D\uDCDD Rename your app","change-app-icon":"\uD83C\uDFA8 Change app icon","build-app-for-production":"\uD83C\uDFD7️ Build app for production"}},{kind:"MdxPage",name:"build-app-for-production",route:"/preparing-for-deployment/build-app-for-production"},{kind:"MdxPage",name:"change-app-icon",route:"/preparing-for-deployment/change-app-icon"},{kind:"MdxPage",name:"rename-your-app",route:"/preparing-for-deployment/rename-your-app"}]},{kind:"MdxPage",name:"preparing-for-deployment",route:"/preparing-for-deployment"},{kind:"Folder",name:"tutorials",route:"/tutorials",children:[{kind:"Meta",data:{"ship-in-5-minutes":"⚡️ Ship in 5 minutes","ionic-router":"\uD83D\uDD17 Router","native-device-features":"\uD83D\uDCF1 Native APIs","splash-screen":"\uD83C\uDFA8 Splash Screen","onboarding-flow":"\uD83D\uDD11 Onboarding Flow"}},{kind:"MdxPage",name:"ionic-router",route:"/tutorials/ionic-router"},{kind:"MdxPage",name:"native-device-features",route:"/tutorials/native-device-features"},{kind:"MdxPage",name:"onboarding-flow",route:"/tutorials/onboarding-flow"},{kind:"MdxPage",name:"ship-in-5-minutes",route:"/tutorials/ship-in-5-minutes"},{kind:"MdxPage",name:"splash-screen",route:"/tutorials/splash-screen"}]}],flexsearch:{codeblocks:!0},title:"Set Up In-App Purchases & Subscriptions with RevenueCat + Capacitor",headings:p},pageNextRoute:"/features/in-app-purchases",nextraLayout:o.ZP,themeConfig:i.Z};s.default=(0,r.j)(h)},8426:function(e,s,n){"use strict";var t=n(5893);n(7294);var r=n(9013);let o={logo:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsx)("span",{style:{position:"relative",top:"2px"},children:(0,t.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M11.3711 23.8639L23.6958 11.1566",stroke:"#06B300",strokeWidth:"3",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M6.69141 19.3918L19.0161 6.68448",stroke:"#06B300",strokeWidth:"3",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M2 14.8401L14.3247 2.1328",stroke:"#06B300",strokeWidth:"3",strokeLinecap:"round"})]})}),(0,t.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:500},children:"nextnative"})]}),logoLink:"https://nextnative.dev",banner:{key:"cta-banner",text:(0,t.jsxs)("span",{children:["\uD83D\uDE80 ",(0,t.jsx)("strong",{children:"Launch mobile apps 10x faster with Next.js"}),(0,t.jsx)("a",{href:"https://nextnative.dev",target:"_blank",style:{textDecoration:"underline",fontWeight:600,color:"#06B300",marginLeft:"6px"},children:"Get NextNative →"})]})},project:{link:"https://github.com/lite1pal"},docsRepositoryBase:"https://github.com/lite1pal/nextnative_docs",footer:{text:"NextNative Docs"},head:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("meta",{name:"robots",content:"index, follow"}),(0,t.jsx)("meta",{name:"title",content:"NextNative Docs"}),(0,t.jsx)("link",{rel:"canonical",href:"https://nextnative.dev/docs".concat(window.location.pathname)})]}),components:{Callout:r.UW},useNextSeoProps:()=>({titleTemplate:"%s – NextNative Docs"}),primaryHue:{dark:100,light:130},primarySaturation:{dark:100,light:50}};s.Z=o},5789:function(){}},function(e){e.O(0,[735,774,888,179],function(){return e(e.s=1069)}),_N_E=e.O()}]);